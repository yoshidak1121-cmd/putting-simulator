# Putting Simulator（パッティングシミュレーター）

ゴルフのパッティングにおけるボールの軌跡を物理計算でシミュレートするWebアプリケーションです。

## 概要

このシミュレーターは、グリーンの傾斜、スティンプメーター値、打ち出し角度、距離などの条件を入力することで、パッティング時のボールの軌跡をリアルタイムに計算・可視化します。

## 主な機能

### 基本機能
- **物理計算に基づいた軌跡シミュレーション**
  - 距離 (D): カップまでの距離 [m]
  - 傾斜角 (θ): グリーンの傾斜 [度] (右傾斜：プラス / 左傾斜：マイナス)
  - スティンプメーター (S): グリーンの速さ [ft]
  - 打ち出し角 (α): ボールの打ち出し方向 [度] (反時計回り：プラス / 時計回り：マイナス)
  - オーバー距離 (Dover): カップの縁からのオーバー距離 [m]

### 可視化機能
- **インタラクティブなキャンバス表示**
  - ボールとカップの位置を実寸で表示
  - 軌跡を色分けして表示（カップ通過前：青、通過後：緑）
  - カップ中心からの同心円表示（距離感の把握に便利）
  - グリッド表示（1m間隔）

- **パン・ズーム・軸調整機能**
  - マウスドラッグでパン（移動）
  - マウスホイールでズーム
  - 軸端をドラッグして表示範囲を調整

### 比較分析機能
以下の3つの比較モードで、複数条件を一度に可視化できます：

1. **打ち出し角を5条件比較**
   - 基準値±2度の範囲で5条件を比較
   - 最適な打ち出し角を見つけるのに便利

2. **傾斜角を5条件比較**
   - 基準値±1度の範囲で5条件を比較（0.5度刻み）
   - 傾斜の読み違いの影響を確認

3. **タッチを5条件比較**
   - 基準値±0.2mの範囲で5条件を比較（0.1m刻み）
   - 距離感の精度による影響を確認

### 参考ガイド線
- **35cmオーバー時のガイド線**
  - カップ縁から35cmオーバーする強さで、カップ中心を通る打ち出し角を赤い破線で表示
  - ツアープロが推奨するタッチ感の参考に

### フィードバック機能
- 画面右下のフィードバックボタンから、アプリケーションへの評価やコメントを送信可能
- 5段階の星評価
- 名前、メールアドレス（任意）、コメントの入力が可能

## データ出力

計算結果として、以下の情報が表示されます：

- **入力パラメータ** - 設定した条件の確認
- **計算結果**
  - 一定減速度 (aRoll): グリーン上でのボール減速度 [m/s²]
  - 初速 (v0): ボールの初速 [m/s]
  - 停止時間 (tStop): ボールが停止するまでの時間 [s]
  - カップ通過速度 (vCup): カップを通過した際の速度 [m/s]
- **停止位置** - ボールの最終位置とカップからの距離

## 使い方

### 基本的な使用方法

1. **ブラウザで開く**
   - `index.html` をブラウザで開きます
   - または、Webサーバーにアップロードしてアクセスします

2. **条件を入力**
   - 左パネルの各入力フィールドに値を設定します
   - デフォルト値：距離 3m、傾斜 0度、スティンプ 9ft、打ち出し角 0度、オーバー 0.5m

3. **計算して表示**
   - 「計算して表示」ボタンをクリックして軌跡を計算・表示
   - 「リセット」ボタンでデフォルト値に戻す

4. **表示の操作**
   - マウスドラッグ：表示範囲を移動（パン）
   - マウスホイール：拡大・縮小（ズーム）
   - 軸端をドラッグ：表示範囲の微調整

5. **比較分析**
   - 「比較して確認（5条件）」セクションを展開
   - 各比較ボタンをクリックして複数条件を一度に確認

### ファイル構成

```
putting-simulator/
├── index.html    # HTMLファイル（メインページ）
├── app.js        # JavaScriptファイル（シミュレーション計算とUI制御）
├── style.css     # CSSファイル（スタイリング）
└── README.md     # このファイル
```

## 技術詳細

### 物理モデル

- **減速度計算**: スティンプメーター値から一定減速度を計算
- **初速計算**: 距離とオーバー量から必要な初速を算出
- **傾斜の影響**: 傾斜角に応じた横方向（X方向）の加速度を考慮
- **カップ判定**: 線分と円の交差判定により、カップ通過を正確に検出

### 座標系

- 原点 (0, 0): ボールの初期位置
- +Y方向: カップの方向
- +X方向: 右方向（右傾斜がプラスの場合、ボールは右に曲がる）
- カップ位置: (0, D)

### 開発環境

- **言語**: JavaScript (ES6+), HTML5, CSS3
- **依存関係**: なし（Pure JavaScript）
- **ブラウザ要件**: モダンブラウザ（Chrome、Firefox、Safari、Edge等）

## インストール・セットアップ

```bash
# リポジトリをクローン
git clone https://github.com/yoshidak1121-cmd/putting-simulator.git

# ディレクトリに移動
cd putting-simulator

# ブラウザで index.html を開く
# または、ローカルサーバーを起動（例：Python）
python -m http.server 8000
# ブラウザで http://localhost:8000 にアクセス
```

## ライセンス

このプロジェクトのライセンス情報については、リポジトリの所有者にお問い合わせください。

## 貢献

バグ報告や機能提案は、GitHubのIssuesでお願いします。
プルリクエストも歓迎します。

## お問い合わせ

ご質問やフィードバックは、アプリ内のフィードバックボタンからお送りください。
